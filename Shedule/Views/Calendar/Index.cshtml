
<script src="~/Scripts/dhtmlxscheduler/dhtmlxscheduler.js" type="text/javascript" charset="utf-8"></script>

<link rel="stylesheet" href="~/Content/dhtmlxscheduler/dhtmlxscheduler_material.css" type="text/css" charset="utf-8">
<script src='~/Scripts/dhtmlxscheduler/ext/dhtmlxscheduler_tooltip.js' type="text/javascript" charset="utf-8"></script>

<script src="~/Scripts/dhtmlxscheduler/locale/locale_ru.js" type="text/javascript" charset="utf-8"></script>

<script src="~/Scripts/dhtmlxscheduler/ext/dhtmlxscheduler_editors.js" type="text/javascript" charset="utf-8"></script>

<script src="~/Scripts/dhtmlxscheduler/ext/dhtmlxscheduler_mvc.js" type="text/javascript" charset="utf-8"></script>


<style type="text/css" media="screen">
    html, body {
        margin: 0px;
        padding: 0px;
        height: 100%;
        overflow: hidden;
    }
</style>
<script type="text/javascript" charset="utf-8">
    function init() {
        scheduler.config.xml_date = "%d-%m-%Y %H:%i";
        scheduler.config.details_on_create = true;

        scheduler.config.first_hour = 7;
        scheduler.config.last_hour = 22;
        scheduler.config.limit_time_select = true;
        scheduler.templates.tooltip_date_format = scheduler.date.date_to_str("%d-%m-%Y %H:%i");
        //scheduler.xy.scale_width = 70;        
        scheduler.locale.labels.section_type = 'Тип занятия';
        scheduler.locale.labels.section_group = 'Группа';
        scheduler.locale.labels.section_teacher = 'Преподаватель';     
        scheduler.locale.labels.section_cabinet = 'Кабинет'; 
        scheduler.locale.labels.section_predmet = 'Тема'; 
        scheduler.locale.labels.section_subgroup = 'Подгруппа'; 
        scheduler.locale.labels.section_comment = 'Комментарий'; 

       
        var alert_opts6 = [
            { key: 1, label: "None"},
            { key: 2, label: "On start date"},
            { key: 3, label: "1 day before"}
        ];        

        var typeList = @Html.Raw(Json.Encode(ViewBag.typeList));
        var groupList = @Html.Raw(Json.Encode(ViewBag.groupList));
        var teacherList = @Html.Raw(Json.Encode(ViewBag.teacherList));
        var cabinetList = @Html.Raw(Json.Encode(ViewBag.cabinetList));
        var subjectList = @Html.Raw(Json.Encode(ViewBag.subjectList));
        
        scheduler.config.lightbox.sections = [
            { name: "group", height: 10, map_to: "group", type: "select", options: groupList, focus: true  },
            //{ name: "subgroup", height: 10, map_to: "type", type: "select", options: scheduler.serverList("types2") },
            { name: "teacher", height: 10, map_to: "teacher", type: "select", options: teacherList },
            { name: "cabinet", height: 10, map_to: "cabinet", type: "select", options: cabinetList },
            { name: "subject", height: 10, map_to: "subject", type: "select", options: subjectList},
            { name: "type", height: 10, map_to: "type", type: "select", options: typeList },   
            { name: "comment", height: 100, map_to: "text", type: "textarea", default_value: null },
            { name: "time", height: 72, type: "time", map_to: "auto" }         
            
           
        ];

        scheduler.init('scheduler_here', null, "week");

        scheduler.load("/Calendar/Data");
        var dp = new dataProcessor("/Calendar/Save");
        dp.init(scheduler);
        dp.setTransactionMode("POST", false);
    }
</script>

<body onload="init()">
    <div id="scheduler_here" class="dhx_cal_container" style='width:100%; height:100%;'>
        <div class="dhx_cal_navline">
            <div class="dhx_cal_prev_button">&nbsp;</div>
            <div class="dhx_cal_next_button">&nbsp;</div>
            <div class="dhx_cal_today_button"></div>
            <div class="dhx_cal_date"></div>
            <div class="dhx_cal_tab" name="day_tab" style="right:204px;"></div>
            <div class="dhx_cal_tab" name="week_tab" style="right:140px;"></div>
            <div class="dhx_cal_tab" name="month_tab" style="right:76px;"></div>
        </div>
        <div class="dhx_cal_header">

        </div>
        <div class="dhx_cal_data">

        </div>
    </div>
</body>