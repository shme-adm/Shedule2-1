@*@model PagedList.IPagedList<Shedule.Models.>
@using PagedList.Mvc*@
@model Shedule.Models.Groups

<link href="~/Content/PagedList.css" rel="stylesheet" type="text/css" />
@{
    ViewBag.Title = "Группы";
}

<div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
    <h1 class="h2">@ViewBag.Message</h1>
    <div class="btn-toolbar mb-2 mb-md-0">
        @*<button class="btn btn-sm btn-outline-secondary">
                @*<span data-feather="plus-circle"></span>
                @Html.ActionLink("Копия предмета", "Copy", "Cycles", new { }, new { @class = "viewDialog", data_dialog_title = "Создание модели" })
            </button>*@
        <button class="btn btn-sm btn-outline-secondary">
            <span data-feather="plus-circle"></span>          
            @Html.ActionLink("Новая запись", "Create", "Groups", new { }, new { @class = "viewDialog", data_dialog_title = "Создать группу" })
        </button>
    </div>
</div>

<div class="table-responsive">
    <table class="table table-striped table-light">
        <thead>
            <tr>
                <th class="" scope="col">№</th>
                <th class="" scope="col">Группа</th>
                <th class="" scope="col">Цикл</th>
                <th class="" scope="col">Город</th>
                <th class="" scope="col">Начало обучения</th>
                <th class="" scope="col">Конец обучения</th>
                <th class="" scope="col">Подгруппы</th>
                <th class="" scope="col">Бюджет</th>
                <th class="" scope="col"></th>
                <th class="" scope="col"></th>
            </tr>
        </thead>
        @{ int i = 1;
           var yes = Html.Raw("<span data-feather=check color=green></ span >");
           var no = Html.Raw("<span data-feather=minus color=red></ span >");
         }
        @foreach (var item in ViewBag.Groups)
        {
            <tr>
                <th class="" scope="row">@i</th>
                <td class="">@item.Name</td>
                <td class="">@item.Cycles.Name</td>
                <td class="">@item.City.Name</td>
                <td class="">@item.DateFrom.ToShortDateString()</td>
                <td class="">@item.DateTo.ToShortDateString()</td>
                <td class="">@item.QuantitySubGroups</td>
                <td class="">
                    @if(item.Budget)
                    { @yes }
                    else
                    { @no }
                </td>
                <td class="text-right">
                    @*<span data-feather="edit"></span>*@
                    @Html.ActionLink("Редактировать", "Edit", "Groups", new { id = item.Id },
                          new { @class = "viewDialog", data_dialog_title = "Редактирование модели" })
                </td>
                <td class="text-right">
                    @Html.ActionLink("Удалить", "Delete", "Groups", new { id = item.Id },
                          new { @class = "viewDialog", data_dialog_title = "Удаление модели" })
                </td>
            </tr>
            i++;
        }
    </table>
</div>
            
